<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Main</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Main.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption empty">&nbsp;</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr></table><p class="caption">Main</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Introdu&#231;&#227;o </a></li><li><a href="#g:2">Objetivos </a><ul><li><a href="#g:3">Declara&#231;&#7757;es &#250;teis </a></li><li><a href="#g:4">Fun&#231;&#245;es  de cria&#231;&#227;o  </a></li><li><a href="#g:5">Fun&#231;&#245;es de rea&#231;&#227;o a eventos</a></li><li><a href="#g:6">Fun&#231;&#245;es de desenho </a></li><li><a href="#g:7">Fun&#231;&#245;es de rea&#231;&#227;o     </a></li></ul></li><li><a href="#g:8">Discuss&#227;o e Conclus&#227;o</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Este m&#243;dulo define fun&#231;&#245;es comuns da Tarefa 5 do trabalho pr&#225;tico.</p><p><strong>IMPORTANTE:</strong> Para que a documenta&#231;&#226;o seja gerada corretamente deve ser usado o comando <strong>haddock -h -o doc/html Tarefa5_2018li1g088</strong></p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><a href="#v:introdu-231--227-oT5">introdu&#231;&#227;oT5</a> :: String</li><li class="src short"><a href="#v:eInicial">eInicial</a> :: <a href="LI11819.html#t:Estado">Estado</a></li><li class="src short"><a href="#v:fr">fr</a> :: Int</li><li class="src short"><a href="#v:width">width</a> :: Int</li><li class="src short"><a href="#v:heigth">heigth</a> :: Int</li><li class="src short"><a href="#v:dm">dm</a> :: Display</li><li class="src short"><a href="#v:mapa1">mapa1</a> :: <a href="LI11819.html#t:Mapa">Mapa</a></li><li class="src short"><a href="#v:mapa2">mapa2</a> :: <a href="LI11819.html#t:Mapa">Mapa</a></li><li class="src short"><a href="#v:mapa3">mapa3</a> :: <a href="LI11819.html#t:Mapa">Mapa</a></li><li class="src short"><a href="#v:lJogadores1">lJogadores1</a> :: [<a href="LI11819.html#t:Jogador">Jogador</a>]</li><li class="src short"><a href="#v:lJogadores2">lJogadores2</a> :: [<a href="LI11819.html#t:Jogador">Jogador</a>]</li><li class="src short"><a href="#v:lJogadores3">lJogadores3</a> :: [<a href="LI11819.html#t:Jogador">Jogador</a>]</li><li class="src short"><a href="#v:lMapas">lMapas</a> :: [<a href="LI11819.html#t:Mapa">Mapa</a>]</li><li class="src short"><a href="#v:lLJogadores">lLJogadores</a> :: [[<a href="LI11819.html#t:Jogador">Jogador</a>]]</li><li class="src short"><span class="keyword">data</span> <a href="#t:Jogo">Jogo</a> = <a href="#v:Jogo">Jogo</a> {<ul class="subs"><li><a href="#v:menuPrincipal">menuPrincipal</a> :: Bool</li><li><a href="#v:tipoJogo">tipoJogo</a> :: Int</li><li><a href="#v:menuJogadores">menuJogadores</a> :: Bool</li><li><a href="#v:numeroJogadores">numeroJogadores</a> :: Int</li><li><a href="#v:menuDificuldade">menuDificuldade</a> :: Bool</li><li><a href="#v:numeroDificuldade">numeroDificuldade</a> :: Int</li><li><a href="#v:menuMapas">menuMapas</a> :: Bool</li><li><a href="#v:escolhaMapa">escolhaMapa</a> :: Int</li><li><a href="#v:estado">estado</a> :: <a href="LI11819.html#t:Estado">Estado</a></li><li><a href="#v:imagens">imagens</a> :: [[Picture]]</li><li><a href="#v:contador">contador</a> :: Int</li><li><a href="#v:acabou">acabou</a> :: Bool</li></ul>}</li><li class="src short"><a href="#v:main">main</a> :: IO ()</li><li class="src short"><a href="#v:jogoInicial">jogoInicial</a> :: [[Picture]] -&gt; <a href="Main.html#t:Jogo">Jogo</a></li><li class="src short"><a href="#v:criaEstado">criaEstado</a> :: <a href="Main.html#t:Jogo">Jogo</a> -&gt; <a href="LI11819.html#t:Estado">Estado</a></li><li class="src short"><a href="#v:reageEvento">reageEvento</a> :: Event -&gt; <a href="Main.html#t:Jogo">Jogo</a> -&gt; <a href="Main.html#t:Jogo">Jogo</a></li><li class="src short"><a href="#v:reageEventoMenu">reageEventoMenu</a> :: Event -&gt; <a href="Main.html#t:Jogo">Jogo</a> -&gt; <a href="Main.html#t:Jogo">Jogo</a></li><li class="src short"><a href="#v:reageEventoPVBot">reageEventoPVBot</a> :: Event -&gt; <a href="LI11819.html#t:Estado">Estado</a> -&gt; <a href="LI11819.html#t:Estado">Estado</a></li><li class="src short"><a href="#v:reageEventoPVP">reageEventoPVP</a> :: Event -&gt; <a href="LI11819.html#t:Estado">Estado</a> -&gt; <a href="LI11819.html#t:Estado">Estado</a></li><li class="src short"><a href="#v:desenhaJogo">desenhaJogo</a> :: <a href="Main.html#t:Jogo">Jogo</a> -&gt; Picture</li><li class="src short"><a href="#v:desenhaInfo">desenhaInfo</a> :: <a href="LI11819.html#t:Estado">Estado</a> -&gt; [Picture] -&gt; [Picture] -&gt; Picture</li><li class="src short"><a href="#v:transfereEstadoCentro">transfereEstadoCentro</a> :: <a href="LI11819.html#t:Mapa">Mapa</a> -&gt; Picture -&gt; Picture</li><li class="src short"><a href="#v:desenhaEstado">desenhaEstado</a> :: <a href="LI11819.html#t:Estado">Estado</a> -&gt; [[Picture]] -&gt; Picture</li><li class="src short"><a href="#v:desenhaMapa">desenhaMapa</a> :: <a href="LI11819.html#t:Mapa">Mapa</a> -&gt; [Picture] -&gt; <a href="LI11819.html#t:Posicao">Posicao</a> -&gt; [Picture]</li><li class="src short"><a href="#v:desenhaLinha">desenhaLinha</a> :: [<a href="LI11819.html#t:Peca">Peca</a>] -&gt; [Picture] -&gt; <a href="LI11819.html#t:Posicao">Posicao</a> -&gt; [Picture]</li><li class="src short"><a href="#v:desenhaTanques">desenhaTanques</a> :: [<a href="LI11819.html#t:Jogador">Jogador</a>] -&gt; [Picture] -&gt; [Picture]</li><li class="src short"><a href="#v:desenhaCanhoes">desenhaCanhoes</a> :: [<a href="LI11819.html#t:Disparo">Disparo</a>] -&gt; [Picture] -&gt; [Picture]</li><li class="src short"><a href="#v:desenhaLasers">desenhaLasers</a> :: <a href="LI11819.html#t:Mapa">Mapa</a> -&gt; [<a href="LI11819.html#t:Disparo">Disparo</a>] -&gt; [Picture] -&gt; [Picture]</li><li class="src short"><a href="#v:desenhaLaser">desenhaLaser</a> :: <a href="LI11819.html#t:Mapa">Mapa</a> -&gt; <a href="LI11819.html#t:Disparo">Disparo</a> -&gt; Picture -&gt; [Picture]</li><li class="src short"><a href="#v:avancaDisparo">avancaDisparo</a> :: <a href="LI11819.html#t:Direcao">Direcao</a> -&gt; <a href="LI11819.html#t:PosicaoGrelha">PosicaoGrelha</a> -&gt; <a href="LI11819.html#t:PosicaoGrelha">PosicaoGrelha</a></li><li class="src short"><a href="#v:desenhaChoques">desenhaChoques</a> :: <a href="LI11819.html#t:Estado">Estado</a> -&gt; [Picture] -&gt; [Picture]</li><li class="src short"><a href="#v:rodaImagem">rodaImagem</a> :: Picture -&gt; <a href="LI11819.html#t:Direcao">Direcao</a> -&gt; Picture</li><li class="src short"><a href="#v:encontraVencedor">encontraVencedor</a> :: [<a href="LI11819.html#t:Jogador">Jogador</a>] -&gt; Int -&gt; Int</li><li class="src short"><a href="#v:reageTempo">reageTempo</a> :: Float -&gt; <a href="Main.html#t:Jogo">Jogo</a> -&gt; <a href="Main.html#t:Jogo">Jogo</a></li><li class="src short"><a href="#v:processaBots">processaBots</a> :: Int -&gt; Int -&gt; Int -&gt; <a href="LI11819.html#t:Estado">Estado</a> -&gt; <a href="LI11819.html#t:Estado">Estado</a></li><li class="src short"><a href="#v:retornaJogada">retornaJogada</a> :: Int -&gt; Maybe <a href="LI11819.html#t:Jogada">Jogada</a> -&gt; <a href="LI11819.html#t:Estado">Estado</a> -&gt; <a href="LI11819.html#t:Estado">Estado</a></li><li class="src short"><a href="#v:processaContador">processaContador</a> :: <a href="Main.html#t:Jogo">Jogo</a> -&gt; <a href="Main.html#t:Jogo">Jogo</a></li><li class="src short"><a href="#v:conclusaoT5">conclusaoT5</a> :: String</li></ul></div><div id="interface"><h1 id="g:1">Introdu&#231;&#227;o </h1><div class="top"><p class="src"><a id="v:introdu-231--227-oT5" class="def">introdu&#231;&#227;oT5</a> :: String <a href="#v:introdu-231--227-oT5" class="selflink">#</a></p><div class="doc"><p>Nesta tarefa devemos criar uma interface gr&#225;fica para o jogo com o objetivo de ser esteticamente agrad&#225;vel e ao mesmo tempo fornecer uma experi&#234;ncia de jogo flu&#237;da.</p><p>Foi utilizado o gloss, uma biblioteca gr&#225;fica do haskell que facilita a cria&#231;&#227;o de gr&#225;ficos 2D.</p><p>Para al&#233;m do jogo em si, decidimos implementar mais funcionalidades, que ser&#227;o explicitadas na parte referente aos objetivos, neste relat&#243;rio.</p></div></div><h1 id="g:2">Objetivos </h1><div class="top"><p class="src"><a id="v:eInicial" class="def">eInicial</a> :: <a href="LI11819.html#t:Estado">Estado</a> <a href="#v:eInicial" class="selflink">#</a></p><div class="doc"><p>Foi decidido implementar algumas funcionalidades extra no trabalho:  </p><p><strong>1.</strong> Possibilidade de jogar contra players ou contra bots</p><p><strong>2.</strong> Escolha do n&#250;mero de jogadores ou n&#250;mero de bots, em menus separados</p><p><strong>3.</strong> Escolha da dificuldade dos bots, caso tenha sido escolhida essa op&#231;&#227;o</p><p><strong>4.</strong> Menu de escolha de diferentes mapas</p><p><strong>5.</strong> Display da informa&#231;&#227;o do jogador </p><p><strong>6.</strong> Reabastecimento das muni&#231;&#245;es de laser e de choque a cada 10 segundos (aos primeiros 10 recebe-se uma de laser, nos 10 segundos depois uma de choque e repete-se o ciclo). <strong>Nota:</strong> Cada jogador s&#243; poder&#225; ter at&#233; um limite de 5 lasers e choques.</p><p><strong>7.</strong> Menu de fim do jogo, onde se indica o vencedor (no caso dse um jogo contra players), ou se venceu os bots e &#233; dada a possibilidade de reiniciar o jogo.</p></div></div><h2 id="g:3">Declara&#231;&#7757;es &#250;teis </h2><div class="top"><p class="src"><a id="v:fr" class="def">fr</a> :: Int <a href="#v:fr" class="selflink">#</a></p><div class="doc"><p>Frame Rate do Jogo</p></div></div><div class="top"><p class="src"><a id="v:width" class="def">width</a> :: Int <a href="#v:width" class="selflink">#</a></p><div class="doc"><p>Largura da janela de jogo</p></div></div><div class="top"><p class="src"><a id="v:heigth" class="def">heigth</a> :: Int <a href="#v:heigth" class="selflink">#</a></p><div class="doc"><p>Altura da Janela de Jogo</p></div></div><div class="top"><p class="src"><a id="v:dm" class="def">dm</a> :: Display <a href="#v:dm" class="selflink">#</a></p><div class="doc"><p>Especifica&#231;&#227;o da janela de jogo</p></div></div><div class="top"><p class="src"><a id="v:mapa1" class="def">mapa1</a> :: <a href="LI11819.html#t:Mapa">Mapa</a> <a href="#v:mapa1" class="selflink">#</a></p><div class="doc"><p>Mapa1, um mapa 15x15 com paredes centrais</p><p><img src="mapa1.png" /></p></div></div><div class="top"><p class="src"><a id="v:mapa2" class="def">mapa2</a> :: <a href="LI11819.html#t:Mapa">Mapa</a> <a href="#v:mapa2" class="selflink">#</a></p><div class="doc"><p>Mapa2, um mapa 20x20 com um conjunto de Blocos Indestrutiveis no centro e blocos Destrutiveis nas partes perif&#233;ricas do mapa</p><p><img src="mapa2.png" /></p></div></div><div class="top"><p class="src"><a id="v:mapa3" class="def">mapa3</a> :: <a href="LI11819.html#t:Mapa">Mapa</a> <a href="#v:mapa3" class="selflink">#</a></p><div class="doc"><p>Mapa3, um mapa 25x25 com uma estrutura central em forma de &quot;floco de neve&quot; constitu&#237;da tanto por Blocos Destrutiveis como Indestrut&#237;veis</p><p><img src="mapa3.png" /> </p></div></div><div class="top"><p class="src"><a id="v:lJogadores1" class="def">lJogadores1</a> :: [<a href="LI11819.html#t:Jogador">Jogador</a>] <a href="#v:lJogadores1" class="selflink">#</a></p><div class="doc"><p>Lista do jogadores com as posi&#231;&#245;es iniciais no Mapa1                                                                     </p></div></div><div class="top"><p class="src"><a id="v:lJogadores2" class="def">lJogadores2</a> :: [<a href="LI11819.html#t:Jogador">Jogador</a>] <a href="#v:lJogadores2" class="selflink">#</a></p><div class="doc"><p>Lista do jogadores com as posi&#231;&#245;es iniciais no Mapa2   </p></div></div><div class="top"><p class="src"><a id="v:lJogadores3" class="def">lJogadores3</a> :: [<a href="LI11819.html#t:Jogador">Jogador</a>] <a href="#v:lJogadores3" class="selflink">#</a></p><div class="doc"><p>Lista do jogadores com as posi&#231;&#245;es iniciais no Mapa3   </p></div></div><div class="top"><p class="src"><a id="v:lMapas" class="def">lMapas</a> :: [<a href="LI11819.html#t:Mapa">Mapa</a>] <a href="#v:lMapas" class="selflink">#</a></p><div class="doc"><p>Lista dos mapas</p></div></div><div class="top"><p class="src"><a id="v:lLJogadores" class="def">lLJogadores</a> :: [[<a href="LI11819.html#t:Jogador">Jogador</a>]] <a href="#v:lLJogadores" class="selflink">#</a></p><div class="doc"><p>Lista das listas de jogadores</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Jogo" class="def">Jogo</a> <a href="#t:Jogo" class="selflink">#</a></p><div class="doc"><p>Tipo de dados criado para transportar toda a informa&#231;&#227;o acerca do jogo</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Jogo" class="def">Jogo</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:menuPrincipal" class="def">menuPrincipal</a> :: Bool</dfn><div class="doc"><p>Booleano que indica se estamos no menu principal</p></div></li><li><dfn class="src"><a id="v:tipoJogo" class="def">tipoJogo</a> :: Int</dfn><div class="doc"><p>Inteiro que indica se &#233; um jogo pvp ou contra bots (1-PVP 2-PVBots)</p></div></li><li><dfn class="src"><a id="v:menuJogadores" class="def">menuJogadores</a> :: Bool</dfn><div class="doc"><p>Boleano que indica se estamos no menu de escolha do n&#250;mero de jogadores</p></div></li><li><dfn class="src"><a id="v:numeroJogadores" class="def">numeroJogadores</a> :: Int</dfn><div class="doc"><p>Inteiro que indica o n&#250;mero de jogadores</p></div></li><li><dfn class="src"><a id="v:menuDificuldade" class="def">menuDificuldade</a> :: Bool</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:numeroDificuldade" class="def">numeroDificuldade</a> :: Int</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:menuMapas" class="def">menuMapas</a> :: Bool</dfn><div class="doc"><p>Boleano que indica se estamos no menu de escolha d mapa</p></div></li><li><dfn class="src"><a id="v:escolhaMapa" class="def">escolhaMapa</a> :: Int</dfn><div class="doc"><p>Inteiro que indica qual o mapa escolhido      </p></div></li><li><dfn class="src"><a id="v:estado" class="def">estado</a> :: <a href="LI11819.html#t:Estado">Estado</a></dfn><div class="doc"><p>Estado do jogo</p></div></li><li><dfn class="src"><a id="v:imagens" class="def">imagens</a> :: [[Picture]]</dfn><div class="doc"><p>Lista de listas de imagens, cada lista cont&#233;m imagens referentes a uma parte do jogo</p></div></li><li><dfn class="src"><a id="v:contador" class="def">contador</a> :: Int</dfn><div class="doc"><p>Inteiro que conta os ticks, para que seja poss&#237;vel reabastecer as muni&#231;&#245;es passsadas x segundos, usando a fun&#231;&#227;o <code><a href="Main.html#v:processaContador">processaContador</a></code></p></div></li><li><dfn class="src"><a id="v:acabou" class="def">acabou</a> :: Bool</dfn><div class="doc"><p>Boleano que indica se o jogo acabou</p></div></li></ul></div></td></tr></table></div><div class="subs instances"><p id="control.i:Jogo" class="caption collapser" onclick="toggleSection('i:Jogo')">Instances</p><div id="section.i:Jogo" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:Jogo:Show:1" class="instance expander" onclick="toggleSection('i:id:Jogo:Show:1')"></span> Show <a href="Main.html#t:Jogo">Jogo</a></span> <a href="#t:Jogo" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:Jogo:Show:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: Int -&gt; <a href="Main.html#t:Jogo">Jogo</a> -&gt; ShowS</p><p class="src"><a href="#v:show">show</a> :: <a href="Main.html#t:Jogo">Jogo</a> -&gt; String</p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Main.html#t:Jogo">Jogo</a>] -&gt; ShowS</p></div></div></td></tr></table></div></div></div><h2 id="g:4">Fun&#231;&#245;es  de cria&#231;&#227;o  </h2><div class="top"><p class="src"><a id="v:main" class="def">main</a> :: IO () <a href="#v:main" class="selflink">#</a></p><div class="doc"><p>Fun&#231;&#227;o principal da Tarefa 5.</p><p><strong>Explica&#231;&#227;o passo-a-passo da fun&#231;&#227;o</strong></p><p><strong>1.</strong> Carregam-se as imagens do utilizando a biblioteca Juicy</p><p><strong>2.</strong> Redimensiona-se as imagens para o tamanho adequado (ficou estabelecido que uma peca deveria ser 20x20 pixeis)</p><p><strong>3.</strong> Agrupa-se as imagens em listas, sendo que cada lista &#233; relativa a uma parte do jogo diferente (<strong>ex</strong>: h&#225; uma lista para oscada tipo de disparos, uma lista com as imagens de cada menu, etc)  </p><p><strong>4.</strong> Chama-se a fun&#231;&#227;o <code><a href="Main.html#v:jogoInicial">jogoInicial</a></code> para criar a primeira estrutura do tipo <code><a href="Main.html#t:Jogo">Jogo</a></code> com as imagens que lhe fornecemos</p><p><strong>5.</strong> A fun&#231;&#227;o <code><a href="Main.html#v:desenhaJogo">desenhaJogo</a></code> fica encarregue de desenhar o jogo, quer se esteja num menu, quer se esteja j&#225; no pr&#243;prio jogo</p><p><strong>6.</strong> A fun&#231;&#227;o <code><a href="Main.html#v:reageEvento">reageEvento</a></code> tratar&#225; dos inputs do jogador (como a movimenta&#231;&#227;o do cursor durante os menus ou as pr&#243;prias jogadas)</p><p><strong>7.</strong> A fun&#231;&#227;o <code><a href="Main.html#v:reageTempo">reageTempo</a></code> processar&#225; a passagem do tempo no jogo, quer seja o processamento de jogadas, usando a fun&#231;&#227;o <code><a href="Tarefa4_2018li1g088.html#v:tick">tick</a></code>, quer seja para verificar se o jogo j&#225; acabou, ou ainda para reabastecer as muni&#231;&#245;es</p></div></div><div class="top"><p class="src"><a id="v:jogoInicial" class="def">jogoInicial</a> :: [[Picture]] -&gt; <a href="Main.html#t:Jogo">Jogo</a> <a href="#v:jogoInicial" class="selflink">#</a></p><div class="doc"><p>Fun&#231;&#227;o respons&#225;vel por iniciar as vari&#225;veis do jogo.</p><p>O valor da vari&#225;vel <code><a href="Main.html#v:menuPrincipal">menuPrincipal</a></code> &#233; iniciada como True pois esse deve ser o primeiro menu que o jogador v&#234;</p></div></div><div class="top"><p class="src"><a id="v:criaEstado" class="def">criaEstado</a> :: <a href="Main.html#t:Jogo">Jogo</a> -&gt; <a href="LI11819.html#t:Estado">Estado</a> <a href="#v:criaEstado" class="selflink">#</a></p><div class="doc"><p>Quando j&#225; todos os menus foram percorridos, ou seja, o tipo de jogo j&#225; foi escolhido, assim como o n&#250;mero de jogadores e o mapa, cria um estado com todas as caracterist&#237;cas que foram selecionadas.</p></div></div><h2 id="g:5">Fun&#231;&#245;es de rea&#231;&#227;o a eventos</h2><div class="top"><p class="src"><a id="v:reageEvento" class="def">reageEvento</a> :: Event -&gt; <a href="Main.html#t:Jogo">Jogo</a> -&gt; <a href="Main.html#t:Jogo">Jogo</a> <a href="#v:reageEvento" class="selflink">#</a></p><div class="doc"><p>Consoante a parte do jogo onde estivermos (Menus, jogo pvp ou jogo pvb) os comandos ser&#227;o diferentes, esta fun&#231;&#231;&#227;o encaminhar&#225; os comandos para o processamento certo</p><p><strong>Nota:</strong> Em vez de se ter apenas uma fun&#231;&#227;o para reagir aos eventos, decidimos ter 3 para que o c&#243;digo ficasse mais claro, quando se est&#225; num menu chama-se a fun&#231;&#227;o <code><a href="Main.html#v:reageEventoMenu">reageEventoMenu</a></code>, quando se est&#225; contra player a fun&#231;&#227;o <code><a href="Main.html#v:reageEventoPVP">reageEventoPVP</a></code> e contra bots a fun&#231;&#227;o <code><a href="Main.html#v:reageEventoPVBot">reageEventoPVBot</a></code></p></div></div><div class="top"><p class="src"><a id="v:reageEventoMenu" class="def">reageEventoMenu</a> :: Event -&gt; <a href="Main.html#t:Jogo">Jogo</a> -&gt; <a href="Main.html#t:Jogo">Jogo</a> <a href="#v:reageEventoMenu" class="selflink">#</a></p><div class="doc"><p>Fun&#231;&#227;o respons&#225;vel por reagir aos comandos do jogador, enquanto este se encontra dentro dos v&#225;rios menus</p><p>A fun&#231;&#227;o ir&#225; navegando entre menus e op&#231;&#245;es ao manipular os boleanos e os inteiros do tipo de dados <code><a href="Main.html#t:Jogo">Jogo</a></code></p><p><strong>Nota:</strong>O Jogador tanto pode navegar no menu usando as estas como os n&#250;meros indicados.</p></div></div><div class="top"><p class="src"><a id="v:reageEventoPVBot" class="def">reageEventoPVBot</a> :: Event -&gt; <a href="LI11819.html#t:Estado">Estado</a> -&gt; <a href="LI11819.html#t:Estado">Estado</a> <a href="#v:reageEventoPVBot" class="selflink">#</a></p><div class="doc"><p>Fun&#231;&#227;o respons&#225;vel por reagir aos inputs do jogador quando ele est&#225; a jogar contra bots</p><p>Como s&#243; h&#225; um jogador que n&#227;o &#233; bot, a fun&#231;&#227;o s&#243; reage aos inputs do jogador 1</p><p><strong>Nota:</strong> Assim como a fun&#231;&#227;o <code><a href="Main.html#v:reageEventoPVP">reageEventoPVP</a></code>, vai usar a fun&#231;&#227;o <code><a href="Tarefa2_2018li1g088.html#v:jogada">jogada</a></code> definida na Tarefa 2</p></div></div><div class="top"><p class="src"><a id="v:reageEventoPVP" class="def">reageEventoPVP</a> :: Event -&gt; <a href="LI11819.html#t:Estado">Estado</a> -&gt; <a href="LI11819.html#t:Estado">Estado</a> <a href="#v:reageEventoPVP" class="selflink">#</a></p><div class="doc"><p>Fun&#231;&#227;o respons&#225;vel por reagir aos inputs dos v&#225;rios jogadores</p><p><strong>Nota:</strong> Os comandos que n&#227;o correspondam &#224; teclas dos jogadores em jogo ser&#227;o ignorados, isto foi alcan&#231;ado alteranjo ligeiramente a fun&#231;&#227;o <code><a href="Tarefa2_2018li1g088.html#v:jogada">jogada</a></code> na tarefa2 para que esta ignore quando &#233; chamado o ind&#237;ce de um jogador que n&#227;o existe. </p></div></div><h2 id="g:6">Fun&#231;&#245;es de desenho </h2><div class="top"><p class="src"><a id="v:desenhaJogo" class="def">desenhaJogo</a> :: <a href="Main.html#t:Jogo">Jogo</a> -&gt; Picture <a href="#v:desenhaJogo" class="selflink">#</a></p><div class="doc"><p>Fun&#231;&#227;o que, quando lhe dada um tipo de dados <code><a href="Main.html#t:Jogo">Jogo</a></code>, ir&#225; mostrar no ecr&#227; imagens respetivas a essa parte do jogo</p><p><strong> A fun&#231;&#227;o pode mostrar</strong>:</p><ul><li>O menu principal</li></ul><p><img src="screenshotMenuPrincipal.png" /></p><ul><li>O menu de escolha do n&#250;mero de jogadores</li></ul><p><img src="screenshotMenuPVP.png" /> </p><ul><li>O menu de escolha do n&#250;mero de bots</li></ul><p><img src="screenshotMenuPVBots.png" /></p><ul><li>O menu de escolha da dificuldade dos bots</li></ul><p><img src="screenshotMenuDificuldade.png" /></p><ul><li>O menu de escolha de mapa</li></ul><p><img src="screenshotMenuMapa.png" /></p><ul><li>O jogo em si, usando as fun&#231;&#245;es <code><a href="Main.html#v:desenhaEstado">desenhaEstado</a></code>, <code><a href="Main.html#v:desenhaInfo">desenhaInfo</a></code> e ainda mostrando a imagem que foi escolhida para servir de backgronud (este ser&#225; a clausula otherwise, pois s&#243; quando todos os boleanos se encontram com o valor Falso &#233; que o jogo come&#231;a)</li></ul><p><img src="screenshotJogo.png" /></p><ul><li>O menu de fim de jogo</li></ul><p><img src="screenshot_imagem_final_vsplayer.png" />
  <img src="screenshot_imagem_final_win_vsbot.png" />
  <img src="screenshot_imagem_final_loss_vsbot.png" /></p></div></div><div class="top"><p class="src"><a id="v:desenhaInfo" class="def">desenhaInfo</a> <a href="#v:desenhaInfo" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="LI11819.html#t:Estado">Estado</a></td><td class="doc"><p>Estado que cont&#233;m as informa&#231;&#245;es acerca dos jogadores</p></td></tr><tr><td class="src">-&gt; [Picture]</td><td class="doc"><p>Lista que cont&#233;m as imagens da tabela de informa&#231;&#245;es</p></td></tr><tr><td class="src">-&gt; [Picture]</td><td class="doc"><p>Lista que cont&#233;m imagens de n&#250;meros de 0 a 9</p></td></tr><tr><td class="src">-&gt; Picture</td><td class="doc"><p>Imagem representativa das informa&#231;&#245;es dos jogadores</p></td></tr></table></div><div class="doc"><p>Fun&#231;&#227;o que mostra ao utilizador informa&#231;&#227;o revelante acerca dos tanques (n&#250;mero de vidas, assim como muni&#231;&#245;es de laser e choque)</p></div></div><div class="top"><p class="src"><a id="v:transfereEstadoCentro" class="def">transfereEstadoCentro</a> <a href="#v:transfereEstadoCentro" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="LI11819.html#t:Mapa">Mapa</a></td><td class="doc"><p><code><a href="LI11819.html#t:Mapa">Mapa</a></code> do jogo. Ser&#225; atrav&#233;s das suas dimens&#245;es que a imagem &#233; centrada </p></td></tr><tr><td class="src">-&gt; Picture</td><td class="doc"><p>Imagem representativa do <code><a href="LI11819.html#t:Estado">Estado</a></code>, antes de ser centrada</p></td></tr><tr><td class="src">-&gt; Picture</td><td class="doc"><p>Imagem do <code><a href="LI11819.html#t:Estado">Estado</a></code> j&#225; centrada</p></td></tr></table></div><div class="doc"><p>Fun&#231;&#227;o respons&#225;vel por trazer a <code>Picture</code> que representa o <code><a href="LI11819.html#t:Estado">Estado</a></code>, ou seja, o mapa, os jogadores e os disparos, para o centro do ecr&#227;, assim como ampliar/reduzir a imagem.</p><p>Para fazer isso trar&#225; o ponto de origem do mapa para o 2&#186; quadrante, sendo por isso que as abcissas est&#227;o negativas e as ordenadas positivas. Al&#233;m disso multiplica esses valores por 10 em vez dos habituais 20 )dimens&#227;o das imagens) para que apenas um quarto do mapa fique em cada quadrante </p><p><strong>Nota</strong>: A fun&#231;&#227;o ir&#225; comparar as dimens&#245;es do mapa para saber qual dos mapas &#233; e aplicar o redimensionamento certo.</p></div></div><div class="top"><p class="src"><a id="v:desenhaEstado" class="def">desenhaEstado</a> <a href="#v:desenhaEstado" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="LI11819.html#t:Estado">Estado</a></td><td class="doc"><p><code><a href="LI11819.html#t:Estado">Estado</a></code> a ser desenhado</p></td></tr><tr><td class="src">-&gt; [[Picture]]</td><td class="doc"><p>Lista contendo todas as imagens que ser&#227;o necess&#225;rias para desenhar o <code><a href="LI11819.html#t:Estado">Estado</a></code> </p></td></tr><tr><td class="src">-&gt; Picture</td><td class="doc"><p>Imagem representativa do <code><a href="LI11819.html#t:Estado">Estado</a></code></p></td></tr></table></div><div class="doc"><p>Fun&#231;&#227;o que cria uma Picture onde todo o &quot;Jogo Principal&quot; est&#225; desenhado</p><p><strong>Nota:</strong> Chamar&#225; todas estas fun&#231;&#245;es para desenhar cada componente do <code><a href="LI11819.html#t:Estado">Estado</a></code></p><ul><li><code><a href="Main.html#v:desenhaMapa">desenhaMapa</a></code> - Fun&#231;&#227;o que desenhar&#225; o mapa</li><li><code><a href="Main.html#v:desenhaTanques">desenhaTanques</a></code> - Fun&#231;&#227;o que representar&#225; cada um dos jogadores/bots</li><li><code><a href="Main.html#v:desenhaCanhoes">desenhaCanhoes</a></code> - Fun&#231;&#227;o que desenha todos os <code><a href="LI11819.html#v:DisparoCanhao">DisparoCanhao</a></code>  </li><li><code><a href="Main.html#v:desenhaLasers">desenhaLasers</a></code> - Fun&#231;&#227;o que desenha todos os <code><a href="LI11819.html#v:DisparoLaser">DisparoLaser</a></code>  </li><li><code><a href="Main.html#v:desenhaChoques">desenhaChoques</a></code> - Fun&#231;&#227;o que desenha todos os <code><a href="LI11819.html#v:DisparoChoque">DisparoChoque</a></code>  </li></ul></div></div><div class="top"><p class="src"><a id="v:desenhaMapa" class="def">desenhaMapa</a> <a href="#v:desenhaMapa" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="LI11819.html#t:Mapa">Mapa</a></td><td class="doc"><p>Mapa a ser desenhado</p></td></tr><tr><td class="src">-&gt; [Picture]</td><td class="doc"><p>Lista de imagens que cont&#233;m os sprites das v&#225;rias pe&#231;as</p></td></tr><tr><td class="src">-&gt; <a href="LI11819.html#t:Posicao">Posicao</a></td><td class="doc"><p>Posi&#231;&#227;o da linha do mapa que est&#225; a ser processada de momento, ser&#225; &#250;til para a fun&#231;&#227;o <code><a href="Main.html#v:desenhaLinha">desenhaLinha</a></code></p></td></tr><tr><td class="src">-&gt; [Picture]</td><td class="doc"><p>Lista de imagens que, em conjunto, representam o mapa</p></td></tr></table></div><div class="doc"><p>Fun&#231;&#227;o que desenha o mapa, processando uma linha do mapa de cada vez.</p><p><strong>Nota:</strong> Chama a fun&#231;&#227;o <code><a href="Main.html#v:desenhaLinha">desenhaLinha</a></code>, &#224; qual &#233; fornecida uma linha do mapa</p></div></div><div class="top"><p class="src"><a id="v:desenhaLinha" class="def">desenhaLinha</a> <a href="#v:desenhaLinha" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: [<a href="LI11819.html#t:Peca">Peca</a>]</td><td class="doc"><p>Linha do mapa a ser desenhada</p></td></tr><tr><td class="src">-&gt; [Picture]</td><td class="doc"><p>Lista de imagens contendo os sprites das v&#225;rias pe&#231;as que podem constituir uma linha</p></td></tr><tr><td class="src">-&gt; <a href="LI11819.html#t:Posicao">Posicao</a></td><td class="doc"><p>Posi&#231;&#227;o da pe&#231;a a ser processada, &#250;til para o construtor <code>Translate</code></p></td></tr><tr><td class="src">-&gt; [Picture]</td><td class="doc"><p>Lista de imagens representativa da linha</p></td></tr></table></div><div class="doc"><p>Fun&#231;&#227;o que desenha uma linha do mapa, &#233; auxiliar da fun&#231;&#227;o <code><a href="Main.html#v:desenhaMapa">desenhaMapa</a></code></p><p><strong>Nota</strong>; Como cada pe&#231;a tem como dimens&#245;es 20x20 p&#237;xeis, &#233; preciso separar as coordenadas tamb&#233;m por 20, por isso &#233; que tanto as abcissas como as ordenadas surgem a multiplicar por 20</p></div></div><div class="top"><p class="src"><a id="v:desenhaTanques" class="def">desenhaTanques</a> <a href="#v:desenhaTanques" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: [<a href="LI11819.html#t:Jogador">Jogador</a>]</td><td class="doc"><p>Lista de jogadores a desenhar</p></td></tr><tr><td class="src">-&gt; [Picture]</td><td class="doc"><p>Lista que cont&#233;m os sprites dos tanques</p></td></tr><tr><td class="src">-&gt; [Picture]</td><td class="doc"><p>Lista de imagens que representam os tanques nas suas posi&#231;&#245;es</p></td></tr></table></div><div class="doc"><p>Desenha cada um dos tanques</p><p>O construtor Translate ir&#225; usar como coordenadas as coordenadas do tanque </p><p><strong>Nota</strong>: Como as coordenadas usadas no mapa e para os jogadores s&#227;o diferentes, &#233; preciso aplicar um fator de corre&#231;&#227;o de meio bloco, ou seja, de 10 p&#237;xeis.</p></div></div><div class="top"><p class="src"><a id="v:desenhaCanhoes" class="def">desenhaCanhoes</a> <a href="#v:desenhaCanhoes" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: [<a href="LI11819.html#t:Disparo">Disparo</a>]</td><td class="doc"><p>Lista de Disparos existentes</p></td></tr><tr><td class="src">-&gt; [Picture]</td><td class="doc"><p>Lista que contr&#233;m os sprites dos 4 <code><a href="LI11819.html#v:DisparoCanhao">DisparoCanhao</a></code></p></td></tr><tr><td class="src">-&gt; [Picture]</td><td class="doc"><p>Lista de imagens que representa todos os <code><a href="LI11819.html#v:DisparoCanhao">DisparoCanhao</a></code> presentes de momento</p></td></tr></table></div><div class="doc"><p>Desenha os <code><a href="LI11819.html#v:DisparoCanhao">DisparoCanhao</a></code> presentes de momento</p></div></div><div class="top"><p class="src"><a id="v:desenhaLasers" class="def">desenhaLasers</a> <a href="#v:desenhaLasers" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="LI11819.html#t:Mapa">Mapa</a></td><td class="doc"><p>Mapa que est&#225; a ser utilizado, ser&#225; passado como argumento &#224; fun&#231;&#227;o auxiliar</p></td></tr><tr><td class="src">-&gt; [<a href="LI11819.html#t:Disparo">Disparo</a>]</td><td class="doc"><p>Lista de Disparos existentes nesse tick no jogo</p></td></tr><tr><td class="src">-&gt; [Picture]</td><td class="doc"><p>Lista que cont&#233;m os sprites dos 4 Lasers</p></td></tr><tr><td class="src">-&gt; [Picture]</td><td class="doc"><p>Lista de imagens que representam os <code><a href="LI11819.html#v:DisparoLaser">DisparoLaser</a></code> presentes de momento no jogo</p></td></tr></table></div><div class="doc"><p>Fun&#231;&#227;o encarrege de desenhar cada um dos Lasers</p><p><strong>Nota:</strong> Esta fun&#231;&#227;o usa como auxiliar a fun&#231;&#227;o <code><a href="Main.html#v:desenhaLaser">desenhaLaser</a></code>. Uma explica&#231;&#227;o mais em detalhe do funcionamento da fun&#231;&#227;o encontra-se na documenta&#231;&#227;o dessa fun&#231;&#227;o.</p></div></div><div class="top"><p class="src"><a id="v:desenhaLaser" class="def">desenhaLaser</a> <a href="#v:desenhaLaser" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="LI11819.html#t:Mapa">Mapa</a></td><td class="doc"><p>Mapa que est&#225; a ser utilizado, ser&#225; utilizado para verificar quando um laser atinge uma parede</p></td></tr><tr><td class="src">-&gt; <a href="LI11819.html#t:Disparo">Disparo</a></td><td class="doc"><p><code><a href="LI11819.html#v:DisparoLaser">DisparoLaser</a></code> que est&#225; a ser processado </p></td></tr><tr><td class="src">-&gt; Picture</td><td class="doc"><p>Sprite do <code><a href="LI11819.html#v:DisparoLaser">DisparoLaser</a></code></p></td></tr><tr><td class="src">-&gt; [Picture]</td><td class="doc"><p>Lista de Imagens correspondentes a todo o percurso do <code><a href="LI11819.html#v:DisparoLaser">DisparoLaser</a></code></p></td></tr></table></div><div class="doc"><p>Fun&#231;&#227;o auxiliar &#224; <code><a href="Main.html#v:desenhaLasers">desenhaLasers</a></code></p><p>A esta fun&#231;&#227;o &#233; dado um <code><a href="LI11819.html#v:DisparoLaser">DisparoLaser</a></code>, a&#237;, a fun&#231;&#227;o vai percorrendo as sucessivas posi&#231;&#245;es que o laser pode tomar, colando, nas posi&#231;&#245;es v&#225;lidas, a imagem do Laser</p><p>Quando encontra um Bloco Indestrut&#237;vel p&#225;ra o seu avan&#231;o e, a&#237;, retorna a lista de Imagens que corresponde &#224; trajet&#243;ria do Laser</p><p><strong>Nota:</strong> Chama as fun&#231;&#245;es <code><a href="Tarefa4_2018li1g088.html#v:posicoesAVerificarMapa">posicoesAVerificarMapa</a></code> e <code><a href="Tarefa0_2018li1g088.html#v:encontraPosicaoMatriz">encontraPosicaoMatriz</a></code> para verificar se nas duas posi&#245;es que o Laser ir&#225; ocupar h&#225; algum 'Bloco Indestrutivel'</p></div></div><div class="top"><p class="src"><a id="v:avancaDisparo" class="def">avancaDisparo</a> :: <a href="LI11819.html#t:Direcao">Direcao</a> -&gt; <a href="LI11819.html#t:PosicaoGrelha">PosicaoGrelha</a> -&gt; <a href="LI11819.html#t:PosicaoGrelha">PosicaoGrelha</a> <a href="#v:avancaDisparo" class="selflink">#</a></p><div class="doc"><p>Fun&#231;&#227;o que, dada uma <code><a href="LI11819.html#t:Direcao">Direcao</a></code> e a posi&#231;&#227;o atual de um disparo, devolve a posi&#231;&#227;o que o disparo ir&#225; ocupar de seguida</p></div></div><div class="top"><p class="src"><a id="v:desenhaChoques" class="def">desenhaChoques</a> :: <a href="LI11819.html#t:Estado">Estado</a> -&gt; [Picture] -&gt; [Picture] <a href="#v:desenhaChoques" class="selflink">#</a></p><div class="doc"><p>Fun&#231;&#227;o encarregue de desenhar os <code><a href="LI11819.html#v:DisparoChoque">DisparoChoque</a></code></p><p><strong>Nota</strong>: Como os <code><a href="LI11819.html#v:DisparoChoque">DisparoChoque</a></code> n&#227;o t&#234;m as coordenadas inseridas na sua informa&#231;&#227;o, &#233; preciso ir retir&#225;-la ao jogador que a disparou, usando  <code>posicaoJogador((!!) lJogadores jogador)</code></p></div></div><div class="top"><p class="src"><a id="v:rodaImagem" class="def">rodaImagem</a> :: Picture -&gt; <a href="LI11819.html#t:Direcao">Direcao</a> -&gt; Picture <a href="#v:rodaImagem" class="selflink">#</a></p><div class="doc"><p>Fun&#231;&#227;o encarregue de rodar os sprites consoante a dire&#231;&#227;o que lhe &#233; dada, sabendo que todos os sprites est&#227;o originalmente orientados para cima</p></div></div><h2 id="g:7">Fun&#231;&#245;es de rea&#231;&#227;o     </h2><div class="top"><p class="src"><a id="v:encontraVencedor" class="def">encontraVencedor</a> <a href="#v:encontraVencedor" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: [<a href="LI11819.html#t:Jogador">Jogador</a>]</td><td class="doc"><p>Lista de Jogadores</p></td></tr><tr><td class="src">-&gt; Int</td><td class="doc"><p>Acumulador que vai aumentando por cada jogadores verificado</p></td></tr><tr><td class="src">-&gt; Int</td><td class="doc"><p>N&#250;mero do vencedor</p></td></tr></table></div><div class="doc"><p>Fun&#231;&#227;o que devolve qual &#233; o vendedor</p><p>Como esta fun&#231;&#227;o s&#243; &#233; chamada quando j&#225; sabemos que o jogo j&#225; acabou, basta encontrar o primeiro jogador cuj n&#250;mero de vidas n&#227;o seja 0                                                                                                           </p></div></div><div class="top"><p class="src"><a id="v:reageTempo" class="def">reageTempo</a> :: Float -&gt; <a href="Main.html#t:Jogo">Jogo</a> -&gt; <a href="Main.html#t:Jogo">Jogo</a> <a href="#v:reageTempo" class="selflink">#</a></p><div class="doc"><p>Fun&#231;&#227;o respons&#225;vel por processar a passagem do tempo, ir&#225; reagir de maneira diferente consoante as circunst&#226;ncias</p><p><strong>Diferentes processamentos</strong>:</p><ul><li><strong>Est&#225; num menu</strong>: A fun&#231;&#227;o n&#227;o alterar&#225; o jogo, pois os menus n&#227;o dependem do tempo</li><li><strong>Est&#225; num jogo PVP</strong>: A fun&#231;&#227;o ir&#225; chamar a fun&#231;&#227;o <code><a href="Tarefa4_2018li1g088.html#v:tick">tick</a></code> definida na tarefa4, assim como tamb&#233;m a fun&#231;&#227;o <code><a href="Main.html#v:processaContador">processaContador</a></code> para verificar se j&#225; est&#225; na altura de reabastecer as muni&#231;&#245;es</li><li><strong>Est&#225; num jogo PVBots</strong>: Ser&#225; chamada a fun&#231;&#227;o <code><a href="Main.html#v:processaBots">processaBots</a></code> que permitir&#225; a cada bot fazer uma jogada. Chamar&#225; tamb&#233;m a fun&#231;&#227;o ticks e a fun&#231;&#227;o <code><a href="Main.html#v:processaContador">processaContador</a></code></li><li><strong>Est&#225; num jogo contra bots e o jogador morreu</strong>: Alterar&#225; o valor de <code><a href="Main.html#v:acabou">acabou</a></code> para True</li><li><strong>Est&#225; num jogo contra players e j&#225; s&#243; h&#225; um vivo</strong>: Para saber se o jogo pvp j&#225; acabou aplica-se a fun&#231;&#227;o retiraMortos com um filter &#224; lista de jogadores, se s&#243; sobrar um jogador significa que o jogo j&#225; acabou. Caso isso se verifique, muda o valor de <code><a href="Main.html#v:acabou">acabou</a></code> para True</li></ul></div></div><div class="top"><p class="src"><a id="v:processaBots" class="def">processaBots</a> <a href="#v:processaBots" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: Int</td><td class="doc"><p>Indicador da dificuldade dos bots </p></td></tr><tr><td class="src">-&gt; Int</td><td class="doc"><p>Contador que indicar&#225; quantos bots j&#225; foram processados</p></td></tr><tr><td class="src">-&gt; Int</td><td class="doc"><p>N&#250;mero de bots do jogo</p></td></tr><tr><td class="src">-&gt; <a href="LI11819.html#t:Estado">Estado</a></td><td class="doc"><p>Estado antes dos bots agirem</p></td></tr><tr><td class="src">-&gt; <a href="LI11819.html#t:Estado">Estado</a></td><td class="doc"><p>Estado ap&#243;s os bots agirem</p></td></tr></table></div><div class="doc"><p>| acabou na primeira linha
 | tJogo == 2 &amp;&amp; (vidasJogador ((!!) (jogadoresEstado e) 0))  == 0 = (Jogo menu tJogo menuJ numeroJ menuM escolhaM e i contador True) - acima do tJogo==2</p><p>Fun&#231;&#227;o que, por cada bot, aplicar&#225; ao estado a jogada que cada um dos bots ir&#225; fazer.</p><p>Chamar&#225; diferentes fun&#231;&#245;es de bots consoante a dificuldade escolhida.</p><p><strong>Nota:</strong> Usa a fun&#231;&#227;o <code><a href="Main.html#v:retornaJogada">retornaJogada</a></code> para alterar o estado individualmente, ou seja, a fun&#231;&#227;o <code><a href="Main.html#v:processaBots">processaBots</a></code> apenas servir&#225; para ver se j&#225; processou os bots todos, enquanto a <code><a href="Main.html#v:retornaJogada">retornaJogada</a></code> e a fun&#231;&#227;o <code><a href="Tarefa6_2018li1g088.html#v:bot">bot</a></code> &#233; que est&#227;o a criar uma jogada e a aplic&#225;-la ao estado.</p></div></div><div class="top"><p class="src"><a id="v:retornaJogada" class="def">retornaJogada</a> <a href="#v:retornaJogada" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: Int</td><td class="doc"><p>Indice do bot, para aplicar na fun&#231;&#227;o <code><a href="Tarefa2_2018li1g088.html#v:jogada">jogada</a></code></p></td></tr><tr><td class="src">-&gt; Maybe <a href="LI11819.html#t:Jogada">Jogada</a></td><td class="doc"><p>Jogada que o bot pretende fazer</p></td></tr><tr><td class="src">-&gt; <a href="LI11819.html#t:Estado">Estado</a></td><td class="doc"><p>Estado antes do bot agir</p></td></tr><tr><td class="src">-&gt; <a href="LI11819.html#t:Estado">Estado</a></td><td class="doc"><p>Estado ap&#243;s o bot agir</p></td></tr></table></div><div class="doc"><p>Aplica a jogada que o bot quer fazer ao Estado</p></div></div><div class="top"><p class="src"><a id="v:processaContador" class="def">processaContador</a> :: <a href="Main.html#t:Jogo">Jogo</a> -&gt; <a href="Main.html#t:Jogo">Jogo</a> <a href="#v:processaContador" class="selflink">#</a></p><div class="doc"><p>Fun&#227;o que tratar&#225; de, a cada 10 segundos, forncer ou uma muni&#231;&#227;o de laser ou uma muni&#231;&#227;o de choque aos jogadores.</p><p>A cada tick o valor do contador aumentar&#225; por 1.</p><p>Para marcar 10 segundos basta verificar quando &#233; que o contador chega ao valor da framerate multiplicado por 10. Neste caso, quando chegar aos 40 ticks, todos os jogadores recebem um <code><a href="LI11819.html#v:DisparoLaser">DisparoLaser</a></code>.</p><p>Passados mais 10 segundos, ou seja fr*20 (neste caso 80), todos os jogadores recebem um <code><a href="LI11819.html#v:DisparoChoque">DisparoChoque</a></code> e o contador &#233; reiniciado a 0.</p></div></div><h1 id="g:8">Discuss&#227;o e Conclus&#227;o</h1><div class="top"><p class="src"><a id="v:conclusaoT5" class="def">conclusaoT5</a> :: String <a href="#v:conclusaoT5" class="selflink">#</a></p><div class="doc"><p>A liberdade que foi dada aos alunos nesta Tarefa para desenvolverem os gr&#225;ficos do jogo a seu gosto, serviu como uma grande fonte de motiva&#231;&#227;o.</p><p>Embora, &#224; primeira vista de algu&#233;m que nunca o tenha usado, o gloss pare&#231;a uma ferramente confusa para quem nunca trabalhou com ela, rapidamente se revela muito &#250;til e de f&#225;cil utiliza&#231;&#227;o.</p><p>Encontramo-nos bastante satisfeitos com o trabalho realizado nesta tarefa, tanto por ter sido desenvolvida uma interface com apelo estetico como por conter gameplay que, embora longe de perfeito, cative um pouco o utilizador.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.17.3</p></div></body></html>