<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Tarefa6_2018li1g088</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Tarefa6_2018li1g088.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption empty">&nbsp;</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>Safe</td></tr></table><p class="caption">Tarefa6_2018li1g088</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Introdu&#231;&#227;o </a></li><li><a href="#g:2">Objetivos</a><ul><li><a href="#g:3">Fun&#231;&#245;es principais da Tarefa 6.</a></li><li><a href="#g:4">Fun&#231;&#245;es secund&#225;rias do bot</a></li><li><a href="#g:5">Bots de outras dificuldades</a></li></ul></li><li><a href="#g:6">Discuss&#227;o e Conclus&#227;o</a></li><li><a href="#g:7">Considera&#231;&#245;es finais e Agradecimentos.</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Este m&#243;dulo define fun&#231;&#245;es comuns da Tarefa 6 do trabalho pr&#225;tico.</p><p><strong>NOTA:</strong> Para que a documenta&#231;&#226;o seja gerada corretamente deve ser usado o comando haddock -h -o doc/html Tarefa6_2018li1g088</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><a href="#v:introT6">introT6</a> :: String</li><li class="src short"><a href="#v:bot">bot</a> :: Int -&gt; <a href="LI11819.html#t:Estado">Estado</a> -&gt; Maybe <a href="LI11819.html#t:Jogada">Jogada</a></li><li class="src short"><a href="#v:existeAlgoNoCaminho">existeAlgoNoCaminho</a> :: Int -&gt; <a href="LI11819.html#t:Jogador">Jogador</a> -&gt; <a href="LI11819.html#t:Estado">Estado</a> -&gt; (Bool, Int)</li><li class="src short"><a href="#v:existeAlgoNoutroCaminho">existeAlgoNoutroCaminho</a> :: Int -&gt; <a href="LI11819.html#t:Jogador">Jogador</a> -&gt; <a href="LI11819.html#t:Estado">Estado</a> -&gt; (Bool, <a href="LI11819.html#t:Direcao">Direcao</a>, Int)</li><li class="src short"><a href="#v:reageExisteAlgoCaminho">reageExisteAlgoCaminho</a> :: <a href="LI11819.html#t:Jogador">Jogador</a> -&gt; <a href="LI11819.html#t:Estado">Estado</a> -&gt; Maybe <a href="LI11819.html#t:Jogada">Jogada</a></li><li class="src short"><a href="#v:estaBoqueadoDestrutivel">estaBoqueadoDestrutivel</a> :: <a href="LI11819.html#t:Mapa">Mapa</a> -&gt; <a href="LI11819.html#t:Jogador">Jogador</a> -&gt; Bool</li><li class="src short"><a href="#v:estaBoqueadoIndestrutivel">estaBoqueadoIndestrutivel</a> :: <a href="LI11819.html#t:Mapa">Mapa</a> -&gt; <a href="LI11819.html#t:Jogador">Jogador</a> -&gt; Bool</li><li class="src short"><a href="#v:existemJogadoresCaminho">existemJogadoresCaminho</a> :: <a href="LI11819.html#t:PosicaoGrelha">PosicaoGrelha</a> -&gt; <a href="LI11819.html#t:Direcao">Direcao</a> -&gt; [<a href="LI11819.html#t:Jogador">Jogador</a>] -&gt; Bool</li><li class="src short"><a href="#v:estaEmDistanciaChoque">estaEmDistanciaChoque</a> :: Int -&gt; <a href="LI11819.html#t:Jogador">Jogador</a> -&gt; <a href="LI11819.html#t:Estado">Estado</a> -&gt; Bool</li><li class="src short"><a href="#v:existeChoque">existeChoque</a> :: Int -&gt; [<a href="LI11819.html#t:Disparo">Disparo</a>] -&gt; Bool</li><li class="src short"><a href="#v:moveJogadorMaisProximo">moveJogadorMaisProximo</a> :: <a href="LI11819.html#t:Jogador">Jogador</a> -&gt; <a href="LI11819.html#t:Estado">Estado</a> -&gt; Maybe <a href="LI11819.html#t:Jogada">Jogada</a></li><li class="src short"><a href="#v:encontraJogadorMaisProximo">encontraJogadorMaisProximo</a> :: <a href="LI11819.html#t:Jogador">Jogador</a> -&gt; [<a href="LI11819.html#t:Jogador">Jogador</a>] -&gt; <a href="LI11819.html#t:PosicaoGrelha">PosicaoGrelha</a></li><li class="src short"><a href="#v:reageChoque">reageChoque</a> :: <a href="LI11819.html#t:Jogador">Jogador</a> -&gt; <a href="LI11819.html#t:Estado">Estado</a> -&gt; Maybe <a href="LI11819.html#t:Jogada">Jogada</a></li><li class="src short"><a href="#v:jogadorAfetado">jogadorAfetado</a> :: <a href="LI11819.html#t:Jogador">Jogador</a> -&gt; [<a href="LI11819.html#t:Jogador">Jogador</a>] -&gt; <a href="LI11819.html#t:Jogador">Jogador</a></li><li class="src short"><a href="#v:blocosVizinhos">blocosVizinhos</a> :: <a href="LI11819.html#t:Mapa">Mapa</a> -&gt; <a href="LI11819.html#t:PosicaoGrelha">PosicaoGrelha</a> -&gt; <a href="LI11819.html#t:Direcao">Direcao</a> -&gt; (<a href="LI11819.html#t:Peca">Peca</a>, <a href="LI11819.html#t:Peca">Peca</a>)</li><li class="src short"><a href="#v:avancaPosicao">avancaPosicao</a> :: <a href="LI11819.html#t:Direcao">Direcao</a> -&gt; <a href="LI11819.html#t:PosicaoGrelha">PosicaoGrelha</a> -&gt; <a href="LI11819.html#t:PosicaoGrelha">PosicaoGrelha</a></li><li class="src short"><a href="#v:botFacil">botFacil</a> :: Int -&gt; <a href="LI11819.html#t:Estado">Estado</a> -&gt; Maybe <a href="LI11819.html#t:Jogada">Jogada</a></li><li class="src short"><a href="#v:reageExisteAlgoCaminhoBotFacil">reageExisteAlgoCaminhoBotFacil</a> :: <a href="LI11819.html#t:Jogador">Jogador</a> -&gt; <a href="LI11819.html#t:Estado">Estado</a> -&gt; Maybe <a href="LI11819.html#t:Jogada">Jogada</a></li><li class="src short"><a href="#v:botMedio">botMedio</a> :: Int -&gt; <a href="LI11819.html#t:Estado">Estado</a> -&gt; Maybe <a href="LI11819.html#t:Jogada">Jogada</a></li><li class="src short"><a href="#v:conclusaoT6">conclusaoT6</a> :: String</li><li class="src short"><a href="#v:agradecimentos">agradecimentos</a> :: String</li></ul></div><div id="interface"><h1 id="g:1">Introdu&#231;&#227;o </h1><div class="top"><p class="src"><a id="v:introT6" class="def">introT6</a> :: String <a href="#v:introT6" class="selflink">#</a></p><div class="doc"><p>Nesta tarefa foi criado um bot para competir contra os bots desenvolvidos pelos outros alunos, assim como para incorporar na Tarefa5, na op&#231;&#227;o de jogar contra bots.</p><p>Foi criada tamb&#233;m uma vers&#227;o mais fraca do bot para na tarefa5 se poder escolher a dificuldade do bot. </p></div></div><h1 id="g:2">Objetivos</h1><h2 id="g:3">Fun&#231;&#245;es principais da Tarefa 6.</h2><div class="top"><p class="src"><a id="v:bot" class="def">bot</a> <a href="#v:bot" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: Int</td><td class="doc"><p>O identificador do <code><a href="LI11819.html#t:Jogador">Jogador</a></code> associado ao ro<code><a href="Tarefa6_2018li1g088.html#v:bot">bot</a></code>.</p></td></tr><tr><td class="src">-&gt; <a href="LI11819.html#t:Estado">Estado</a></td><td class="doc"><p>O <code><a href="LI11819.html#t:Estado">Estado</a></code> para o qual o ro<code><a href="Tarefa6_2018li1g088.html#v:bot">bot</a></code> deve tomar uma decis&#227;o.</p></td></tr><tr><td class="src">-&gt; Maybe <a href="LI11819.html#t:Jogada">Jogada</a></td><td class="doc"><p>Uma poss&#237;vel <code><a href="LI11819.html#t:Jogada">Jogada</a></code> a efetuar pelo ro<code><a href="Tarefa6_2018li1g088.html#v:bot">bot</a></code>.</p></td></tr></table></div><div class="doc"><p><strong>Ordem de condi&#231;&#245;es e funcionamento da fun&#231;&#227;o <code><a href="Tarefa6_2018li1g088.html#v:bot">bot</a></code></strong></p><p><strong>1&#170; condi&#231;ao:</strong> Se existir algum jogador vivo &#224; dist&#226;ncia de ser afetado por um <code><a href="LI11819.html#v:DisparoChoque">DisparoChoque</a></code>, o bot dispara um choque</p><p><strong>2&#170; condi&#231;&#227;o:</strong> Se o bot j&#225; tiver disparado um choque e o jogador afetado ainda estiver vivo, chama a fun&#231;&#227;o <code><a href="Tarefa6_2018li1g088.html#v:reageChoque">reageChoque</a></code> que far&#225; o bot atacar o jogador afetado pelo choque.</p><p><strong>3&#170; condi&#231;&#227;o:</strong> Se existem blocos destrut&#237;veis/jogadores no caminho para o qual o bot est&#225; virado, ou numa das outras tr&#234;s dire&#231;&#245;es alternativas (informa&#231;&#227;o que se obt&#233;m atrav&#233;s das fun&#231;&#245;es <code><a href="Tarefa6_2018li1g088.html#v:existeAlgoNoCaminho">existeAlgoNoCaminho</a></code> e <code><a href="Tarefa6_2018li1g088.html#v:existeAlgoNoutroCaminho">existeAlgoNoutroCaminho</a></code>), chama a fun&#231;&#227;o <code><a href="Tarefa6_2018li1g088.html#v:reageExisteAlgoCaminho">reageExisteAlgoCaminho</a></code></p><p><strong>4&#170; condi&#231;&#227;o:</strong> Caso nenhuma das condi&#231;&#245;es acima se verifique, ser&#225; chamada a fun&#231;&#227;o <code><a href="Tarefa6_2018li1g088.html#v:moveJogadorMaisProximo">moveJogadorMaisProximo</a></code> que far&#225; o bot mover-se em dire&#231;&#227;o ao jogador mais pr&#243;ximo.</p><p><strong>Nota:</strong> Este ser&#225; o bot de dificuldade m&#225;xima na Tarefa5</p></div></div><div class="top"><p class="src"><a id="v:existeAlgoNoCaminho" class="def">existeAlgoNoCaminho</a> <a href="#v:existeAlgoNoCaminho" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: Int</td><td class="doc"><p>Contador que &#233; iniciado a 0 mas que se torna 1 se forem encontrados blocos destrutiveis e 2 se forem encontrados jogadores.</p></td></tr><tr><td class="src">-&gt; <a href="LI11819.html#t:Jogador">Jogador</a></td><td class="doc"><p>Jogador que servir&#225; como &quot;sonda&quot; para ir verificando o caminho</p></td></tr><tr><td class="src">-&gt; <a href="LI11819.html#t:Estado">Estado</a></td><td class="doc"><p><code><a href="LI11819.html#t:Estado">Estado</a></code> do qual se ir&#227;o utilizar partes como argumento par outras fun&#231;&#245;es</p></td></tr><tr><td class="src">-&gt; (Bool, Int)</td><td class="doc"><p>Par de um boleano e um inteiro, o boleano indica se existe algum jogador no caminho, o inteiro se existe algum bloco Destrutivel (2-Jogador, 1-Bloco, 0-Nada)</p></td></tr></table></div><div class="doc"><p>Fun&#231;&#227;o que verifica se no caminho do bot se encontra algum Jogador/Bloco Destrutivel. Os resultados variam consoante o encontrado:</p><p>Se tiver um jogador no caminho retorna <strong>(True,2)</strong></p><p>Se tiver apenas blocos destrutiveis no caminho retorna <strong>(False,1)</strong></p><p>Se o caminho acabar num bloco Indestrutivel sem nada antes, retorna <strong>(False, 0)</strong></p><p>Quando a fun&#231;&#227;o encontra um bloco Destrutivel, n&#227;o acaba logo porque quer avaliar se &#224; frente tem algum jogador, sendo assim mais &#250;til usar o laser</p><p><strong>Nota:</strong> Se na posi&#231;&#227;o imediatamente &#224; frente do bot n&#227;o encontra nada, avan&#231;a a posi&#231;&#227;o do jogador por um bloco para testar os blocos seguintes. </p><p><strong>ex:</strong> Se um jogador Virado para Baixo na posi&#231;&#227;o (3,3) n&#227;o tem nenhum bloco/jogador nas posi&#231;&#245;es (4,3) e (4,4), o bot avan&#231;a para a posi&#231;&#227;o (4,3) para testar as posi&#231;&#245;es (5,3) e (5,4). Este procedimento continua at&#233; ser encontrado um jogador ou um bloco.  </p></div></div><div class="top"><p class="src"><a id="v:existeAlgoNoutroCaminho" class="def">existeAlgoNoutroCaminho</a> :: Int -&gt; <a href="LI11819.html#t:Jogador">Jogador</a> -&gt; <a href="LI11819.html#t:Estado">Estado</a> -&gt; (Bool, <a href="LI11819.html#t:Direcao">Direcao</a>, Int) <a href="#v:existeAlgoNoutroCaminho" class="selflink">#</a></p><div class="doc"><p>Esta fun&#231;&#227;o &#233; chamada em dois casos</p><ol><li>Caso o bot n&#227;o encontre, na dire&#231;&#227;o para a qual est&#225; virado, nenhum bloco destrut&#237;vel ou jogador</li><li>Caso o bot apenas encontre, na dire&#231;&#227;o para a qual est&#225; virado, blocos destrutiveis. Como tirar vidas a um jogador fornece mais pontos que destruir blocos, vale a pena verificar se noutras dire&#231;&#245;es existem jogadores. </li></ol><p>A funn&#231;&#227;o verificar&#225;, para as outras tr&#234;s dire&#231;&#245;es (ou seja, para as dire&#231;&#245;es que o jogador n&#227;o est&#225; virado), se nessas dire&#231;&#245;es existem blocos destrut&#237;veis ou jogadores. Far&#225; isto chamando a fun&#231;&#227;o <code><a href="Tarefa6_2018li1g088.html#v:existeAlgoNoCaminho">existeAlgoNoCaminho</a></code>, tr&#234;s vezes, uma para cada dire&#231;&#227;o.</p><p>Caso em alguma das dire&#231;&#245;es encontre um jogador, devolve o triplo <strong>(True, dire&#231;&#227;o onde o jogador est&#225;,2)</strong>, caso encontre apenas blocos destrutiveis devolve <strong>(False, dire&#231;&#227;o onde os blocos est&#227;o,1)</strong>, caso n&#227;o encontre nem jogadores nem blocos destrutiveis em nenhuma das 4 dire&#231;&#245;es, devolve __(False,C,0)</p><p><strong>Nota</strong>; Os resultados desta fun&#231;&#227;o ser&#227;o usados na fun&#231;&#227;o <code><a href="Tarefa6_2018li1g088.html#v:reageExisteAlgoCaminho">reageExisteAlgoCaminho</a></code></p></div></div><div class="top"><p class="src"><a id="v:reageExisteAlgoCaminho" class="def">reageExisteAlgoCaminho</a> :: <a href="LI11819.html#t:Jogador">Jogador</a> -&gt; <a href="LI11819.html#t:Estado">Estado</a> -&gt; Maybe <a href="LI11819.html#t:Jogada">Jogada</a> <a href="#v:reageExisteAlgoCaminho" class="selflink">#</a></p><div class="doc"><p>Fun&#231;&#227;o encarregue de reagir caso exista algum bloco/jogador numa das 4 dire&#231;&#245;es em rela&#231;&#227;o ao jogador</p><p>Para saber, em primeiro lugar, se existe algum bloco/jogador, chama as fun&#231;&#245;es <code><a href="Tarefa6_2018li1g088.html#v:existeAlgoNoCaminho">existeAlgoNoCaminho</a></code> e <code><a href="Tarefa6_2018li1g088.html#v:existeAlgoNoutroCaminho">existeAlgoNoutroCaminho</a></code></p><p>Caso a fun&#231;&#227;o <code><a href="Tarefa6_2018li1g088.html#v:existeAlgoNoCaminho">existeAlgoNoCaminho</a></code> indique que existe um jogador no caminho, o bot dispara</p><p>Se a fun&#231;&#227;o <code><a href="Tarefa6_2018li1g088.html#v:existeAlgoNoCaminho">existeAlgoNoCaminho</a></code> indica que apenas h&#225; blocos destrut&#237;veis, mas a fun&#231;&#227;o <code><a href="Tarefa6_2018li1g088.html#v:existeAlgoNoutroCaminho">existeAlgoNoutroCaminho</a></code> indica que h&#225; algum jogador noutra dire&#231;&#227;o, mas na mesma linha/coluna, o jogador vira-se para essa coluna.</p><p>Caso a fun&#231;&#227;o <code><a href="Tarefa6_2018li1g088.html#v:existeAlgoNoCaminho">existeAlgoNoCaminho</a></code> indique que n&#227;o h&#225; nada e a fun&#231;&#227;o <code><a href="Tarefa6_2018li1g088.html#v:existeAlgoNoutroCaminho">existeAlgoNoutroCaminho</a></code> indique que h&#225; blocos, vira-se nessa dire&#231;&#227;o</p><p>Caso nenhuma das fun&#231;&#245;es indique a exist&#234;ncia de jogadores/blocos, o bot n&#227;o faz nada</p><p><strong>Nota:</strong> Ao testar outras dire&#231;&#245;es, usa a fun&#231;&#227;o <code><a href="Tarefa1_2018li1g088.html#v:roda">roda</a></code>, definida na tarefa1 para alterar a dire&#231;&#227;o</p></div></div><h2 id="g:4">Fun&#231;&#245;es secund&#225;rias do bot</h2><div class="top"><p class="src"><a id="v:estaBoqueadoDestrutivel" class="def">estaBoqueadoDestrutivel</a> :: <a href="LI11819.html#t:Mapa">Mapa</a> -&gt; <a href="LI11819.html#t:Jogador">Jogador</a> -&gt; Bool <a href="#v:estaBoqueadoDestrutivel" class="selflink">#</a></p><div class="doc"><p>Dado o mapa e o bot, verifica se &#224; frente do bot est&#225; um blocoIndestrutivel que lhe est&#225; a bloquear o caminho</p><p><strong>Nota:</strong> Ser&#225; chamada pela fun&#231;&#227;o <code><a href="Tarefa6_2018li1g088.html#v:existeAlgoNoCaminho">existeAlgoNoCaminho</a></code> v&#225;rias vezes at&#233; ser encontrada uma parede indestrutivel (o que faz parar a pesquisa pois n&#227;o interessa o que est&#225; para al&#233;m da parede indestrtivel) ou um jogador. &#201; chamda tamb&#233;m a fun&#231;&#227;o <code><a href="Tarefa6_2018li1g088.html#v:blocosVizinhos">blocosVizinhos</a></code> que devolve quais os blocos &#224; frente do jogador</p></div></div><div class="top"><p class="src"><a id="v:estaBoqueadoIndestrutivel" class="def">estaBoqueadoIndestrutivel</a> :: <a href="LI11819.html#t:Mapa">Mapa</a> -&gt; <a href="LI11819.html#t:Jogador">Jogador</a> -&gt; Bool <a href="#v:estaBoqueadoIndestrutivel" class="selflink">#</a></p><div class="doc"><p>Dado o mapa e o bot, verifica se &#224; frente do bot est&#225; um blocoIndestrutivel que lhe est&#225; a bloquear o caminho</p><p><strong>Nota:</strong> Ser&#225; chamada pela fun&#231;&#227;o <code><a href="Tarefa6_2018li1g088.html#v:existeAlgoNoCaminho">existeAlgoNoCaminho</a></code> v&#225;rias vezes at&#233; ser encontrada uma parede. &#201; chamda tamb&#233;m a fun&#231;&#227;o <code><a href="Tarefa6_2018li1g088.html#v:blocosVizinhos">blocosVizinhos</a></code> que devolve quais os blocos &#224; frente do jogador.</p></div></div><div class="top"><p class="src"><a id="v:existemJogadoresCaminho" class="def">existemJogadoresCaminho</a> :: <a href="LI11819.html#t:PosicaoGrelha">PosicaoGrelha</a> -&gt; <a href="LI11819.html#t:Direcao">Direcao</a> -&gt; [<a href="LI11819.html#t:Jogador">Jogador</a>] -&gt; Bool <a href="#v:existemJogadoresCaminho" class="selflink">#</a></p><div class="doc"><p>Dadas as coordenadas e dire&#231;&#227;o para a qual o bot est&#225; virado, indica se &#224; frente do bot existe algum jogador</p><p>Usar&#225; a fun&#231;&#227;o <code><a href="Tarefa4_2018li1g088.html#v:posicoesAVerificarJogadores">posicoesAVerificarJogadores</a></code> para saber quais as coordenadas a verificar </p><p><strong>Nota:</strong> Esta fun&#231;&#227;o ser&#225; chamada v&#225;rias vezes pela fun&#231;&#227;o <code><a href="Tarefa6_2018li1g088.html#v:existeAlgoNoCaminho">existeAlgoNoCaminho</a></code> para verificar se na posi&#231;&#227;o &#224; frente do bot existe um jogador</p></div></div><div class="top"><p class="src"><a id="v:estaEmDistanciaChoque" class="def">estaEmDistanciaChoque</a> :: Int -&gt; <a href="LI11819.html#t:Jogador">Jogador</a> -&gt; <a href="LI11819.html#t:Estado">Estado</a> -&gt; Bool <a href="#v:estaEmDistanciaChoque" class="selflink">#</a></p><div class="doc"><p>Verifica se existe algum jogador que est&#225; suficientemente perto para ser afetado por um choque</p><p>Para o fazer, utiliza a fun&#231;&#227;o estaProximo que verifica se h&#225; algum jogador vivo a dist&#226;ncia de 3 ou menos do nosso bot.</p></div></div><div class="top"><p class="src"><a id="v:existeChoque" class="def">existeChoque</a> <a href="#v:existeChoque" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: Int</td><td class="doc"><p>&#237;ndice do bot</p></td></tr><tr><td class="src">-&gt; [<a href="LI11819.html#t:Disparo">Disparo</a>]</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; Bool</td><td class="doc"><p>Boleano que indica se o bot disparou um <code><a href="LI11819.html#v:DisparoChoque">DisparoChoque</a></code> </p></td></tr></table></div><div class="doc"><p>Dado o ind&#237;ce do bot, verifica se &#233;ste tem um <code><a href="LI11819.html#v:DisparoChoque">DisparoChoque</a></code> ativo</p></div></div><div class="top"><p class="src"><a id="v:moveJogadorMaisProximo" class="def">moveJogadorMaisProximo</a> :: <a href="LI11819.html#t:Jogador">Jogador</a> -&gt; <a href="LI11819.html#t:Estado">Estado</a> -&gt; Maybe <a href="LI11819.html#t:Jogada">Jogada</a> <a href="#v:moveJogadorMaisProximo" class="selflink">#</a></p><div class="doc"><p>Ap&#243;s lhe ser dada as coordenadas do jogador mais pr&#243;ximo ao nosso bot, devolve uma jogada no sentido de se movimentar para mais perto dele.</p><p>Chama a fun&#231;&#227;o <code>encontraJogadorMainProximo</code> para saber quais as coordenadas do jogador que queremos atacar </p><p>Chama tamb&#233;m a fun&#231;&#227;o <code>estaBloqueadoIndestrutivel</code>. Se o bot estiver virado para uma parede esta fun&#231;&#227;o dar&#225; o valor True, mas n&#243;s queremos apenas agir se o bot n&#227;o estiver contra uma parede. Por essa raz&#227;o aplicamos o operador not() &#224; fun&#231;&#227;o <code>estaBloqueadoIndestrutivel</code></p></div></div><div class="top"><p class="src"><a id="v:encontraJogadorMaisProximo" class="def">encontraJogadorMaisProximo</a> :: <a href="LI11819.html#t:Jogador">Jogador</a> -&gt; [<a href="LI11819.html#t:Jogador">Jogador</a>] -&gt; <a href="LI11819.html#t:PosicaoGrelha">PosicaoGrelha</a> <a href="#v:encontraJogadorMaisProximo" class="selflink">#</a></p><div class="doc"><p>Devolve as coordenadas do jogador vivo mais pr&#243;ximo ao nosso jogador</p><p><strong>Nota</strong>: O segundo argumento para a fun&#231;&#227;o auxiliar &#233; iniciado a (500,500) porque assim temos a certeza que haver&#225; sempre algum jogador com um valor de coordenadas menor</p></div></div><div class="top"><p class="src"><a id="v:reageChoque" class="def">reageChoque</a> :: <a href="LI11819.html#t:Jogador">Jogador</a> -&gt; <a href="LI11819.html#t:Estado">Estado</a> -&gt; Maybe <a href="LI11819.html#t:Jogada">Jogada</a> <a href="#v:reageChoque" class="selflink">#</a></p><div class="doc"><p>Chama  fun&#231;&#227;o <code><a href="Tarefa6_2018li1g088.html#v:jogadorAfetado">jogadorAfetado</a></code> para conseguir saber informa&#231;&#227;o acerca do jogador que est&#225; a ser atingido pelo choque.</p><p>De seguida compara as coordenadas. </p><p><strong>Se os jogadores n&#227;o estiverem &quot;alinhados&quot;</strong> (ou seja, o bot n&#227;o consegue acertar no joga caso dispare), o bot move-se em dire&#231;&#227;o ao jogador.</p><p><strong>Se, por outro lado, os jogadores j&#225; estiverem alinhados</strong> (algo que se verifica usando a fun&#231;&#227;o <code><a href="Tarefa2_2018li1g088.html#v:compara_coordenadas_tanques">compara_coordenadas_tanques</a></code>), o jogador dispara.</p></div></div><div class="top"><p class="src"><a id="v:jogadorAfetado" class="def">jogadorAfetado</a> :: <a href="LI11819.html#t:Jogador">Jogador</a> -&gt; [<a href="LI11819.html#t:Jogador">Jogador</a>] -&gt; <a href="LI11819.html#t:Jogador">Jogador</a> <a href="#v:jogadorAfetado" class="selflink">#</a></p><div class="doc"><p>Dado um jogador (o nosso bot), que sabemos que est&#225; a usar um <code><a href="LI11819.html#v:DisparoChoque">DisparoChoque</a></code> e a lista de jogadores, devolve o jogador que est&#225; a ser afetado pelo choque.</p><p>Para saber qual o jogador que est&#225; a ser afetado, basta ver se as coordenadas do jogador que estamos a testar agora se encontram num intervalo de 3 linhas para cima<em>baixo ou 3 colunas para a direita</em>esquerda do nosso bot, pois &#233; essa a &#224;rea de a&#231;&#227;o do choque.</p><p>Ignora as coordenadas do pr&#243;prio bot e tamb&#233;m ignora jogadores que j&#225; morreram</p><p><strong>Nota:</strong> O caso Jogador [] serve para a fun&#231;&#227;o n&#227;o falhar quando o jogador que o bot estava a atacar morre</p></div></div><div class="top"><p class="src"><a id="v:blocosVizinhos" class="def">blocosVizinhos</a> :: <a href="LI11819.html#t:Mapa">Mapa</a> -&gt; <a href="LI11819.html#t:PosicaoGrelha">PosicaoGrelha</a> -&gt; <a href="LI11819.html#t:Direcao">Direcao</a> -&gt; (<a href="LI11819.html#t:Peca">Peca</a>, <a href="LI11819.html#t:Peca">Peca</a>) <a href="#v:blocosVizinhos" class="selflink">#</a></p><div class="doc"><p>Sabendo que o bot est&#225; a utilizar um choque, esta fun&#231;&#227;o dita qual a a&#231;&#227;o a fazer para conseguir atingir o jogador que est&#225; a ser afetado pelo choque.</p><p>Devolve as duas pe&#231;as que se encontram &#224; frente do tanque. Isto ser&#225; a base para a verifica&#231;&#227;o de muitas fun&#231;&#245;es, incluindo a <code><a href="Tarefa6_2018li1g088.html#v:estaBoqueadoIndestrutivel">estaBoqueadoIndestrutivel</a></code> e a <code><a href="Tarefa6_2018li1g088.html#v:estaBoqueadoDestrutivel">estaBoqueadoDestrutivel</a></code></p></div></div><div class="top"><p class="src"><a id="v:avancaPosicao" class="def">avancaPosicao</a> :: <a href="LI11819.html#t:Direcao">Direcao</a> -&gt; <a href="LI11819.html#t:PosicaoGrelha">PosicaoGrelha</a> -&gt; <a href="LI11819.html#t:PosicaoGrelha">PosicaoGrelha</a> <a href="#v:avancaPosicao" class="selflink">#</a></p><div class="doc"><p>Dada uma dire&#231;&#227;o e uma coordenada devolve a coordenada seguinte                                              </p></div></div><h2 id="g:5">Bots de outras dificuldades</h2><div class="top"><p class="src"><a id="v:botFacil" class="def">botFacil</a> <a href="#v:botFacil" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: Int</td><td class="doc"><p>O identificador do <code><a href="LI11819.html#t:Jogador">Jogador</a></code> associado ao ro<code><a href="Tarefa6_2018li1g088.html#v:bot">bot</a></code>.</p></td></tr><tr><td class="src">-&gt; <a href="LI11819.html#t:Estado">Estado</a></td><td class="doc"><p>O <code><a href="LI11819.html#t:Estado">Estado</a></code> para o qual o ro<code><a href="Tarefa6_2018li1g088.html#v:bot">bot</a></code> deve tomar uma decis&#227;o.</p></td></tr><tr><td class="src">-&gt; Maybe <a href="LI11819.html#t:Jogada">Jogada</a></td><td class="doc"><p>Uma poss&#237;vel <code><a href="LI11819.html#t:Jogada">Jogada</a></code> a efetuar pelo ro<code><a href="Tarefa6_2018li1g088.html#v:bot">bot</a></code>.</p></td></tr></table></div><div class="doc"><p>Vers&#227;o do bot mas de dificuldade f&#225;cil</p><p>Foi retirada a utiliza&#231;&#227;o de choqes e a fun&#231;&#227;o <code><a href="Tarefa6_2018li1g088.html#v:reageExisteAlgoCaminho">reageExisteAlgoCaminho</a></code> foi alterada para uma vers&#227;o mais fraca, a <code>reageExisteAlgoCaminhoFacil</code></p></div></div><div class="top"><p class="src"><a id="v:reageExisteAlgoCaminhoBotFacil" class="def">reageExisteAlgoCaminhoBotFacil</a> :: <a href="LI11819.html#t:Jogador">Jogador</a> -&gt; <a href="LI11819.html#t:Estado">Estado</a> -&gt; Maybe <a href="LI11819.html#t:Jogada">Jogada</a> <a href="#v:reageExisteAlgoCaminhoBotFacil" class="selflink">#</a></p><div class="doc"><p>Vers&#227;o mais fraca da fun&#231;&#227;o <code><a href="Tarefa6_2018li1g088.html#v:reageExisteAlgoCaminho">reageExisteAlgoCaminho</a></code></p><p>Nesta vers&#227;o os Lasers n&#227;o s&#227;o utilizados e o bot n&#227;o prioritiza atacar os jogadores em rela&#231;&#227;o aos blocos</p></div></div><div class="top"><p class="src"><a id="v:botMedio" class="def">botMedio</a> <a href="#v:botMedio" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: Int</td><td class="doc"><p>O identificador do <code><a href="LI11819.html#t:Jogador">Jogador</a></code> associado ao ro<code><a href="Tarefa6_2018li1g088.html#v:bot">bot</a></code>.</p></td></tr><tr><td class="src">-&gt; <a href="LI11819.html#t:Estado">Estado</a></td><td class="doc"><p>O <code><a href="LI11819.html#t:Estado">Estado</a></code> para o qual o ro<code><a href="Tarefa6_2018li1g088.html#v:bot">bot</a></code> deve tomar uma decis&#227;o.</p></td></tr><tr><td class="src">-&gt; Maybe <a href="LI11819.html#t:Jogada">Jogada</a></td><td class="doc"><p>Uma poss&#237;vel <code><a href="LI11819.html#t:Jogada">Jogada</a></code> a efetuar pelo ro<code><a href="Tarefa6_2018li1g088.html#v:bot">bot</a></code>.</p></td></tr></table></div><div class="doc"><p>Vers&#227;o do bot de m&#233;dia dificuldade</p><p>| Embora este bot tamb&#233;m n&#227;o use os <code><a href="LI11819.html#v:DisparoChoque">DisparoChoque</a></code>, j&#225; utiliza a fun&#231;&#227;o <code><a href="Tarefa6_2018li1g088.html#v:reageExisteAlgoCaminho">reageExisteAlgoCaminho</a></code>, o que significa que ir&#225; utilizar <code><a href="LI11819.html#v:DisparoLaser">DisparoLaser</a></code> e prioritizar atingir jogadores em rela&#231;&#227;o a blovos</p></div></div><h1 id="g:6">Discuss&#227;o e Conclus&#227;o</h1><div class="top"><p class="src"><a id="v:conclusaoT6" class="def">conclusaoT6</a> :: String <a href="#v:conclusaoT6" class="selflink">#</a></p><div class="doc"><p>Assim como na Tarefa3 e na Tarefa5, a liberdade de desenvolver o bot ao gosto do aluno foi um grande motor de motiva&#231;&#227;o nesta parte final do trabalho.</p><p>Julgamos que o os v&#225;rios bots desenvolvidos se adaptam &#224; dificuldade que &#233; suposto representarem e que enriquecem a experi&#234;ncia de jogo.</p></div></div><h1 id="g:7">Considera&#231;&#245;es finais e Agradecimentos.</h1><div class="top"><p class="src"><a id="v:agradecimentos" class="def">agradecimentos</a> :: String <a href="#v:agradecimentos" class="selflink">#</a></p><div class="doc"><p>Em retrospetiva, consideramos toda a experi&#234;ncia envolvendo a cadeiras neste primeiro semestre extremamente satisfat&#243;ria</p><p>A possibilidade de colocar os conhecimentos adquiridos na cadeira de programa&#231;&#227;o funcional em pr&#225;tica revelou-se extremamente cativente e sentimos que nos fez evoluir como estudantes e futuros engenheiros.</p><p>Deixamos os nosss agradecimentos a todos os professores da cadeira de Laborat&#243;rios de Inform&#225;tica I, especialmente ao Professor Hugo Pacheco, pela sua dedica&#231;&#227;o e sempre presente paci&#234;ncia para ajudar os alunos.</p><p>Sinceramente,</p><p>Jo&#227;o Correia</p><p>Pedro Bastos </p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.17.3</p></div></body></html>